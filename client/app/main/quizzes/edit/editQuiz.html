<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">{{quiz.title}}</h1>
    </div>
    <div class="col-lg-8 col-lg-offset-2">
	    
	    <h3>Add a question</h3>
	    
	    <form ng-submit="addQuestion()" role="form" class="question-form">
		    
		  <div class="form-group">
		    <input type="text" class="form-control" placeholder="What's the question?" ng-model="newQuestion.question">
		  </div>
		  
		  <div class="form-group">
		    <input type="text" class="form-control" placeholder="What's the correct answer?" ng-model="newQuestion.answer.text">
		  </div>
		  
		  <div class="form-group" ng-repeat="answer in newQuestion.otherAnswers">
		    <input type="text" class="form-control" placeholder="What&#39;s another answer option?" ng-model="$parent.newQuestion.otherAnswers[$index].text">
		  </div>
		  
		  <div class="form-group">
			  <a ng-click="addAnotherAnswer()" class="add-answer-button">+ Add another possible answer</a>
		  </div>
		  
		  <button type="submit" class="btn btn-default add-question-button">Add this question</button>
		  <a class="btn" ng-click="blankQuestion()">Cancel</a>
		  
		</form>
		
    </div>
    <div class="col-lg-8 col-lg-offset-2">
	    
	    <h3>All questions for {{quiz.title}}</h3>
	    
	    <div ng-repeat="question in quiz.questions | orderBy:updated" class="question-item">
		    <p>Question: {{question.current.content}}</p>
		    <p>Answer: {{question.current.answer.text}}</p>
		    <p ng-show="question.current.otherAnswers[0]">Other answers:</p>
		    <ol type="a">
			    <li ng-repeat="answer in question.current.otherAnswers">{{answer.text}}</li>
		    </ol>
		    <a ng-click="deleteQuestion(question)">Delete this question</a>
	    </div>
    </div>
  </div>
</div>